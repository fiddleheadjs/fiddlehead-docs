<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<style>
		* {
			margin: 0px;
			padding: 0px;
			font-family: "微软雅黑", "宋体", Tahoma, "Arial Unicode MS";
			box-sizing: border-box;
			position: relative;
			font-size: 14px;
		}

		html {
			overflow: scroll;
		}

		a {
			text-decoration: none;
		}

		img {
			border-top-style: none;
			border-right-style: none;
			border-bottom-style: none;
			border-left-style: none;
		}

		ul {
			list-style-type: none;
		}
	</style>
	<script type="text/javascript" src="jquery/jquery.js"></script>
	<script type="text/javascript" src="vschess/vschess.mod.js"></script>
	<title>Xiangqi</title>
</head>

<body>
	<div class="vschess"></div>
	<script type="text/javascript">
		var style = document.createElement('style');
		document.head.appendChild(style);
		function setInnerHeight() {
			style.textContent = `:root { --inner-width: ${document.body.offsetWidth}px; }`;
		}
		setInnerHeight();
		window.addEventListener('resize', setInnerHeight);
	</script>
	<script type="text/javascript">
		var vschess;
		var params = new URL(document.location).searchParams;
		var filename = params.get("data") || "dhtmlxq";
		$.ajax({
			url: filename + ".txt",
			success: function (chessData) {
				vschess = new vschess.load(".vschess", {
					chessData: chessData,
					style: "mobile",
					layout: "mobile-mod",
					defaultTab: "board",
					playGap: 25,
					sound: false,
					loadFinish: function () {
						console.log(vschess);
					}
				});
			}
		});
	</script>

</body>

</html>